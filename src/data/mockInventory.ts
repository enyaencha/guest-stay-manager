import { InventoryItem, StockAlert } from '@/types/inventory';

export const mockInventoryItems: InventoryItem[] = [
  {
    id: '1',
    name: 'Bath Towels',
    category: 'bathroom',
    sku: 'BTH-TWL-001',
    currentStock: 45,
    minStock: 50,
    maxStock: 150,
    unit: 'pieces',
    unitCost: 12.50,
    lastRestocked: '2025-01-10',
    supplier: 'Linen Co.',
  },
  {
    id: '2',
    name: 'Hand Soap',
    category: 'bathroom',
    sku: 'BTH-SOP-001',
    currentStock: 120,
    minStock: 40,
    maxStock: 200,
    unit: 'bottles',
    unitCost: 3.25,
    lastRestocked: '2025-01-12',
    supplier: 'CleanSupply Inc.',
  },
  {
    id: '3',
    name: 'Shampoo',
    category: 'bathroom',
    sku: 'BTH-SHP-001',
    currentStock: 85,
    minStock: 40,
    maxStock: 200,
    unit: 'bottles',
    unitCost: 4.50,
    lastRestocked: '2025-01-12',
    supplier: 'CleanSupply Inc.',
  },
  {
    id: '4',
    name: 'Bed Sheets (Queen)',
    category: 'bedroom',
    sku: 'BED-SHT-Q01',
    currentStock: 28,
    minStock: 30,
    maxStock: 100,
    unit: 'sets',
    unitCost: 35.00,
    lastRestocked: '2025-01-08',
    supplier: 'Linen Co.',
  },
  {
    id: '5',
    name: 'Pillowcases',
    category: 'bedroom',
    sku: 'BED-PIL-001',
    currentStock: 72,
    minStock: 50,
    maxStock: 200,
    unit: 'pieces',
    unitCost: 8.00,
    lastRestocked: '2025-01-08',
    supplier: 'Linen Co.',
  },
  {
    id: '6',
    name: 'Coffee Pods',
    category: 'kitchen',
    sku: 'KIT-COF-001',
    currentStock: 8,
    minStock: 50,
    maxStock: 300,
    unit: 'boxes',
    unitCost: 18.00,
    lastRestocked: '2025-01-05',
    supplier: 'Beverage World',
  },
  {
    id: '7',
    name: 'Sugar Packets',
    category: 'kitchen',
    sku: 'KIT-SUG-001',
    currentStock: 200,
    minStock: 100,
    maxStock: 500,
    unit: 'packets',
    unitCost: 0.10,
    lastRestocked: '2025-01-14',
    supplier: 'Beverage World',
  },
  {
    id: '8',
    name: 'All-Purpose Cleaner',
    category: 'cleaning',
    sku: 'CLN-APC-001',
    currentStock: 24,
    minStock: 20,
    maxStock: 60,
    unit: 'bottles',
    unitCost: 8.50,
    lastRestocked: '2025-01-11',
    supplier: 'CleanSupply Inc.',
  },
  {
    id: '9',
    name: 'Toilet Paper',
    category: 'bathroom',
    sku: 'BTH-TP-001',
    currentStock: 15,
    minStock: 100,
    maxStock: 400,
    unit: 'rolls',
    unitCost: 0.85,
    lastRestocked: '2025-01-03',
    supplier: 'CleanSupply Inc.',
  },
  {
    id: '10',
    name: 'Light Bulbs (LED)',
    category: 'maintenance',
    sku: 'MNT-LB-001',
    currentStock: 35,
    minStock: 20,
    maxStock: 80,
    unit: 'pieces',
    unitCost: 6.00,
    lastRestocked: '2025-01-09',
    supplier: 'Hardware Plus',
  },
  {
    id: '11',
    name: 'Welcome Chocolates',
    category: 'amenities',
    sku: 'AMN-CHO-001',
    currentStock: 60,
    minStock: 30,
    maxStock: 150,
    unit: 'pieces',
    unitCost: 2.50,
    lastRestocked: '2025-01-15',
    supplier: 'Gourmet Treats',
  },
  {
    id: '12',
    name: 'Slippers',
    category: 'amenities',
    sku: 'AMN-SLP-001',
    currentStock: 40,
    minStock: 25,
    maxStock: 100,
    unit: 'pairs',
    unitCost: 4.00,
    lastRestocked: '2025-01-10',
    supplier: 'Linen Co.',
  },
];

export const getStockLevel = (item: InventoryItem): 'out-of-stock' | 'low' | 'adequate' | 'full' => {
  if (item.currentStock === 0) return 'out-of-stock';
  if (item.currentStock < item.minStock) return 'low';
  if (item.currentStock >= item.maxStock * 0.8) return 'full';
  return 'adequate';
};

export const getStockAlerts = (items: InventoryItem[]): StockAlert[] => {
  return items
    .filter(item => item.currentStock < item.minStock)
    .map(item => ({
      id: `alert-${item.id}`,
      itemId: item.id,
      itemName: item.name,
      category: item.category,
      currentStock: item.currentStock,
      minStock: item.minStock,
      level: (item.currentStock < item.minStock * 0.5 ? 'critical' : 'warning') as 'critical' | 'warning',
      createdAt: new Date().toISOString(),
    }))
    .sort((a, b) => (a.level === 'critical' ? -1 : 1));
};
